EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 6 10
Title "OpenVent Control Board"
Date "2020-10-20"
Rev "A"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text GLabel 1950 1700 0    50   Input ~ 0
VBATT-SCALED
Text GLabel 6650 1125 0    50   Output ~ 0
nPRESSURE-PATIENT-ALERT
Text GLabel 7000 5050 0    50   Output ~ 0
Sounder_DRV
Text GLabel 7000 5150 0    50   Output ~ 0
LED_SERIAL_DRV
Text GLabel 1950 1600 0    50   Input ~ 0
OXYGEN-SENSOR
Text GLabel 1950 1500 0    50   Input ~ 0
PRESSURE-PATIENT-SENSOR
$Comp
L OpenVent:GW1N-9LQ100 U8
U 6 1 5FCFFCE4
P 2250 4250
AR Path="/5FCFFCE4" Ref="U8"  Part="6" 
AR Path="/5F8F894A/5FCFFCE4" Ref="U8"  Part="6" 
F 0 "U8" H 3225 5098 50  0000 C CNN
F 1 "GW1N-9LQ100" H 3225 5007 50  0000 C CNN
F 2 "" H 2500 6150 50  0001 C CNN
F 3 "" H 2500 6150 50  0001 C CNN
	6    2250 4250
	1    0    0    -1  
$EndComp
$Comp
L OpenVent-rescue:GW1N-9LQ100-OpenVent U8
U 4 1 5FD034FE
P 1350 7200
AR Path="/5FD034FE" Ref="U8"  Part="4" 
AR Path="/5F8F894A/5FD034FE" Ref="U8"  Part="4" 
F 0 "U8" H 2075 7748 50  0000 C CNN
F 1 "GW1N-9LQ100" H 2075 7657 50  0000 C CNN
F 2 "" H 1600 9100 50  0001 C CNN
F 3 "" H 1600 9100 50  0001 C CNN
	4    1350 7200
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:SiT8008B U14
U 1 1 5FD185A9
P 9450 2850
F 0 "U14" H 9850 3115 50  0000 C CNN
F 1 "SiT8008B" H 9850 3024 50  0000 C CNN
F 2 "" H 9500 3100 50  0001 C CNN
F 3 "" H 9500 3100 50  0001 C CNN
	1    9450 2850
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:ADS1015 U13
U 1 1 5FD19031
P 2450 1400
F 0 "U13" H 2800 1665 50  0000 C CNN
F 1 "ADS1015" H 2800 1574 50  0000 C CNN
F 2 "F_ICs:LT_MS8E" H 2700 150 50  0001 C CNN
F 3 "https://www.analog.com/media/en/technical-documentation/data-sheets/1936fd.pdf" H 2650 950 50  0001 C CNN
F 4 "ADS1015" H 2650 500 50  0001 C CNN "Mfr_PN"
F 5 "IC ADC VSSOP-10" H 2850 350 50  0001 C CNN "Desc"
	1    2450 1400
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:3V3 #PWR034
U 1 1 5FD203F5
P 10600 2650
F 0 "#PWR034" H 10600 2500 50  0001 C CNN
F 1 "3V3" H 10600 2823 50  0000 C CNN
F 2 "" H 10600 2650 50  0001 C CNN
F 3 "" H 10600 2650 50  0001 C CNN
	1    10600 2650
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:GND #PWR035
U 1 1 5FD20966
P 10600 3150
F 0 "#PWR035" H 10600 2900 50  0001 C CNN
F 1 "GND" H 10600 3000 50  0001 C CNN
F 2 "" H 10600 3150 50  0001 C CNN
F 3 "" H 10600 3150 50  0001 C CNN
	1    10600 3150
	1    0    0    -1  
$EndComp
Text Notes 725  3950 1    50   ~ 0
Debug UART
NoConn ~ 1250 3650
NoConn ~ 1250 3550
NoConn ~ 1250 3950
$Comp
L OpenVent:Pin_Header,_1x6-Way,_2.54mm_Pitch JP?
U 1 1 5FD254BC
P 1250 3950
AR Path="/5F988182/5FD254BC" Ref="JP?"  Part="1" 
AR Path="/5F8F894A/5FD254BC" Ref="JP5"  Part="1" 
F 0 "JP5" H 1600 4600 50  0000 L BNN
F 1 "Pin_Header,_1x6-Way,_2.54mm_Pitch" H 1250 3950 50  0001 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x06_P2.54mm_Vertical" H 1250 3950 50  0001 C CNN
F 3 "" H 1250 3950 50  0001 C CNN
	1    1250 3950
	-1   0    0    -1  
$EndComp
Text Label 1450 3750 0    50   ~ 0
UART_RX
Text Label 1450 3850 0    50   ~ 0
UART_TX
Text Notes 9525 3225 0    50   ~ 0
33.554432 MHz
$Comp
L OpenVent:GND #PWR028
U 1 1 5FD31973
P 2400 1950
F 0 "#PWR028" H 2400 1700 50  0001 C CNN
F 1 "GND" H 2400 1800 50  0001 C CNN
F 2 "" H 2400 1950 50  0001 C CNN
F 3 "" H 2400 1950 50  0001 C CNN
	1    2400 1950
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:GND #PWR029
U 1 1 5FD324D1
P 3250 1750
F 0 "#PWR029" H 3250 1500 50  0001 C CNN
F 1 "GND" H 3250 1600 50  0001 C CNN
F 2 "" H 3250 1750 50  0001 C CNN
F 3 "" H 3250 1750 50  0001 C CNN
	1    3250 1750
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:3V3 #PWR030
U 1 1 5FD344B7
P 3250 1300
F 0 "#PWR030" H 3250 1150 50  0001 C CNN
F 1 "3V3" H 3250 1473 50  0000 C CNN
F 2 "" H 3250 1300 50  0001 C CNN
F 3 "" H 3250 1300 50  0001 C CNN
	1    3250 1300
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:GND #PWR032
U 1 1 5FD3A041
P 1700 3450
F 0 "#PWR032" H 1700 3200 50  0001 C CNN
F 1 "GND" H 1700 3300 50  0001 C CNN
F 2 "" H 1700 3450 50  0001 C CNN
F 3 "" H 1700 3450 50  0001 C CNN
	1    1700 3450
	1    0    0    -1  
$EndComp
Text Label 1950 1400 0    50   ~ 0
ADC_DRDY
Text Label 3350 1500 0    50   ~ 0
I2C_SCL
Text Label 3350 1600 0    50   ~ 0
I2C_SDA
Text Label 6500 3000 2    50   ~ 0
ADC_DRDY
$Comp
L OpenVent:2k4_0603_Chip_Resistor,_1%,_0.1W R19
U 1 1 5FD4D09C
P 5650 2650
F 0 "R19" H 5750 2343 50  0000 C CNN
F 1 "2k4_0603_Chip_Resistor,_1%,_0.1W" H 5650 2650 50  0001 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" H 5650 2650 50  0001 C CNN
F 3 "" H 5650 2650 50  0001 C CNN
F 4 "2k4" H 5750 2434 50  0000 C CNN "Val"
F 5 "1%" H 5650 2650 50  0001 C CNN "Tolerance"
F 6 "0.1W" H 5650 2650 50  0001 C CNN "Watt"
	1    5650 2650
	0    -1   -1   0   
$EndComp
$Comp
L OpenVent:2k4_0603_Chip_Resistor,_1%,_0.1W R20
U 1 1 5FD4E271
P 6250 2600
F 0 "R20" H 6350 2600 50  0000 C CNN
F 1 "2k4_0603_Chip_Resistor,_1%,_0.1W" H 6250 2600 50  0001 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" H 6250 2600 50  0001 C CNN
F 3 "" H 6250 2600 50  0001 C CNN
F 4 "2k4" H 6350 2675 50  0000 C CNN "Val"
F 5 "1%" H 6250 2600 50  0001 C CNN "Tolerance"
F 6 "0.1W" H 6250 2600 50  0001 C CNN "Watt"
	1    6250 2600
	0    -1   -1   0   
$EndComp
$Comp
L OpenVent:3V3 #PWR031
U 1 1 5FD519F4
P 5750 2350
F 0 "#PWR031" H 5750 2200 50  0001 C CNN
F 1 "3V3" H 5750 2523 50  0000 C CNN
F 2 "" H 5750 2350 50  0001 C CNN
F 3 "" H 5750 2350 50  0001 C CNN
	1    5750 2350
	1    0    0    -1  
$EndComp
$Comp
L OpenVent:GW1N-9LQ100 U8
U 5 1 5FE312A6
P 7100 2800
AR Path="/5FE312A6" Ref="U8"  Part="5" 
AR Path="/5F8F894A/5FE312A6" Ref="U8"  Part="5" 
F 0 "U8" H 7825 4348 50  0000 C CNN
F 1 "GW1N-9LQ100" H 7825 4257 50  0000 C CNN
F 2 "" H 7350 4700 50  0001 C CNN
F 3 "" H 7350 4700 50  0001 C CNN
	5    7100 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 3450 1250 3450
Wire Wire Line
	1250 3750 2250 3750
Wire Wire Line
	1250 3850 2250 3850
Wire Wire Line
	2450 1400 1950 1400
Wire Wire Line
	1950 1500 2450 1500
Wire Wire Line
	2450 1600 1950 1600
Wire Wire Line
	1950 1700 2450 1700
Wire Wire Line
	3250 1300 3250 1400
Wire Wire Line
	3250 1400 3150 1400
Wire Wire Line
	3150 1700 3250 1700
Wire Wire Line
	3250 1700 3250 1750
Wire Wire Line
	3150 1500 3700 1500
Wire Wire Line
	3150 1600 3700 1600
Wire Wire Line
	2450 1900 2400 1900
Wire Wire Line
	2400 1900 2400 1950
$Comp
L OpenVent:10k_0603_Chip_Resistor,_1%,_0.1W R41
U 1 1 5FE91BCD
P 9400 2500
F 0 "R41" V 9454 2470 50  0000 L CNN
F 1 "10k_0603_Chip_Resistor,_1%,_0.1W" H 9400 2500 50  0001 C CNN
F 2 "" H 9400 2500 50  0001 C CNN
F 3 "" H 9400 2500 50  0001 C CNN
F 4 "10k" V 9545 2470 50  0000 L CNN "Val"
F 5 "1%" H 9400 2500 50  0001 C CNN "Tolerance"
F 6 "0.1W" H 9400 2500 50  0001 C CNN "Watt"
	1    9400 2500
	0    1    1    0   
$EndComp
$Comp
L OpenVent:3V3 #PWR033
U 1 1 5FE92C86
P 9300 2350
F 0 "#PWR033" H 9300 2200 50  0001 C CNN
F 1 "3V3" H 9300 2523 50  0000 C CNN
F 2 "" H 9300 2350 50  0001 C CNN
F 3 "" H 9300 2350 50  0001 C CNN
	1    9300 2350
	1    0    0    -1  
$EndComp
Text Notes 6700 6100 0    50   ~ 0
2 x NHD-0216K1Z-FL-YBW
Text GLabel 6700 5950 2    60   Output ~ 0
PRESSURE-SENSOR-VENT
Text GLabel 9550 6125 0    50   Input ~ 0
FLOW-SENSOR
Text GLabel 9625 5825 0    50   Input ~ 0
OXYGEN-SENSOR
Text GLabel 9625 5950 0    50   Input ~ 0
FLOW-SENSOR-GAIN
Text GLabel 6700 5750 2    60   Output ~ 0
SENSIRON-FLOW-SENSOR
Text GLabel 10400 4200 0    50   Output ~ 0
Motor_off
Text GLabel 6350 600  0    50   Input ~ 0
PB_MUTE
Text GLabel 6350 700  0    50   Input ~ 0
PB_PLUS
Text GLabel 6350 800  0    50   Input ~ 0
PB_MINUS
Text GLabel 6350 900  0    50   Input ~ 0
PB_SEL
Text GLabel 9550 1500 2    50   Output ~ 0
Vref_DRV
Text GLabel 9550 1600 2    50   Output ~ 0
FBA_DRV
Text GLabel 9550 1700 2    50   Output ~ 0
FBB_DRV
Text GLabel 9550 1800 2    50   Output ~ 0
FBC_DRV
Text GLabel 9550 1900 2    50   Output ~ 0
FBD_DRV
Text GLabel 9550 2000 2    50   Output ~ 0
FBE_DRV
Text GLabel 9550 2100 2    50   Output ~ 0
FBF_DRV
Text GLabel 1400 4450 0    50   Input ~ 0
AD_VREF
Text GLabel 1700 3950 0    50   Input ~ 0
Vcap_A
Text GLabel 1700 4150 0    50   Input ~ 0
Vcap_B
Text GLabel 1700 4350 0    50   Input ~ 0
Vcap_C
Text GLabel 4850 3750 2    50   Input ~ 0
Vcap_D
Text GLabel 4850 3950 2    50   Input ~ 0
Vcap_E
Text GLabel 4850 4350 2    50   Input ~ 0
Vcap_F
Text GLabel 8750 4600 2    50   Output ~ 0
LCD_RS
Text GLabel 8750 4500 2    50   BiDi ~ 0
LCD_RW
Text GLabel 8750 4400 2    50   Output ~ 0
LCD_A_ENABLE
Text GLabel 8750 4300 2    50   BiDi ~ 0
LCD_DB0
Text GLabel 8750 4200 2    50   BiDi ~ 0
LCD_DB1
Text GLabel 8750 4800 2    50   BiDi ~ 0
LCD_DB3
Text GLabel 8750 4700 2    50   BiDi ~ 0
LCD_DB2
Text GLabel 8750 5000 2    50   BiDi ~ 0
LCD_DB5
Text GLabel 8750 4900 2    50   BiDi ~ 0
LCD_DB4
Text GLabel 8750 5200 2    50   BiDi ~ 0
LCD_DB7
Text GLabel 8750 5100 2    50   BiDi ~ 0
LCD_DB6
Wire Notes Line
	5250 5525 11000 5525
Wire Notes Line
	11000 500  11000 5525
Wire Notes Line
	500  6250 5250 6250
Wire Notes Line
	5250 500  5250 6250
Wire Notes Line
	500  7750 4000 7750
Wire Notes Line
	4000 7750 4000 6250
Text Notes 8325 3775 0    118  ~ 0
Bank 0 = +5V_Sensors
Text Notes 7150 1200 0    59   ~ 0
Bank 2 = +3V3_Sensors\n
Text Notes 600  6075 0    50   ~ 0
Bank 1 = +3V3_Sensors if GOW1N -9 or 3V3 if GOWIN -4
Text Notes 1800 6475 0    118  ~ 0
Bank 3 = +5V_Sensors
Wire Notes Line
	5250 500  11000 500 
Wire Notes Line
	500  7750 500  2750
Text Notes 5300 3400 0    50   ~ 0
CHECK I2C PULL-UP RESISTOR\nVALUES ONCE WHOLE I2C CIRCUIT\nIS CONFIRMED (2.4K TOO STIFF, 4.75K\nIS ENOUGH)
Text GLabel 6275 2700 0    50   Output ~ 0
I2C_SCL
Text GLabel 5650 2800 0    50   BiDi ~ 0
I2C_SDA
Text GLabel 3700 1500 2    50   Input ~ 0
I2C_SCL
Text GLabel 3700 1600 2    50   BiDi ~ 0
I2C_SDA
Wire Wire Line
	6275 2700 6350 2700
$Comp
L OpenVent:3V3 #PWR066
U 1 1 602573F8
P 6350 2300
F 0 "#PWR066" H 6350 2150 50  0001 C CNN
F 1 "3V3" H 6350 2473 50  0000 C CNN
F 2 "" H 6350 2300 50  0001 C CNN
F 3 "" H 6350 2300 50  0001 C CNN
	1    6350 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 4200 8500 4200
Wire Wire Line
	8500 4300 8750 4300
Wire Wire Line
	8750 4400 8500 4400
Wire Wire Line
	8500 4500 8750 4500
Wire Wire Line
	8750 4600 8500 4600
Wire Wire Line
	8500 4700 8750 4700
Wire Wire Line
	8750 4800 8500 4800
Wire Wire Line
	8500 4900 8750 4900
Wire Wire Line
	8750 5000 8500 5000
Wire Wire Line
	8500 5100 8750 5100
Wire Wire Line
	8750 5200 8500 5200
Wire Wire Line
	7200 5050 7000 5050
Wire Wire Line
	7000 5150 7200 5150
$Comp
L OpenVent:100nF_0603_Ceramic_Capacitor,_10%,_X7R,_25V C23
U 1 1 5FD1CC3D
P 10700 2850
F 0 "C23" V 10704 2860 50  0000 L CNN
F 1 "100nF_0603_Ceramic_Capacitor,_10%,_X7R,_25V" H 10700 2850 50  0001 C CNN
F 2 "" H 10700 2850 50  0001 C CNN
F 3 "" H 10700 2850 50  0001 C CNN
F 4 "100nF" V 10795 2860 50  0000 L CNN "Val"
F 5 "25V" H 10700 2850 50  0001 C CNN "Voltage"
F 6 "10%" H 10700 2850 50  0001 C CNN "Tolerance"
	1    10700 2850
	0    1    1    0   
$EndComp
Wire Wire Line
	9350 2850 9300 2850
Wire Wire Line
	9300 2850 9300 2800
Wire Wire Line
	9300 2350 9300 2400
Wire Wire Line
	10600 2650 10600 2700
Wire Wire Line
	10600 2700 10450 2700
Wire Wire Line
	10450 2700 10450 2850
Wire Wire Line
	10450 2850 10350 2850
Connection ~ 10600 2700
Wire Wire Line
	10600 2700 10600 2750
Wire Wire Line
	10350 3000 10450 3000
Wire Wire Line
	10450 3000 10450 3100
Wire Wire Line
	10450 3100 10600 3100
Wire Wire Line
	10600 3100 10600 3150
Wire Wire Line
	10600 3050 10600 3100
Connection ~ 10600 3100
Wire Wire Line
	9350 3000 9000 3000
Wire Wire Line
	9000 2400 8750 2400
$Comp
L OpenVent:GW1N-9LQ100 U8
U 3 1 6050EC36
P 7200 5150
F 0 "U8" H 7850 6448 50  0000 C CNN
F 1 "GW1N-9LQ100" H 7850 6357 50  0000 C CNN
F 2 "" H 6500 6800 50  0001 C CNN
F 3 "" H 6500 6800 50  0001 C CNN
	3    7200 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1400 4450 2050 4450
Wire Wire Line
	2250 4250 2150 4250
Wire Wire Line
	2150 4250 2150 4450
Connection ~ 2150 4450
Wire Wire Line
	2150 4450 2250 4450
Wire Wire Line
	2250 4050 2150 4050
Wire Wire Line
	2150 4050 2150 4250
Connection ~ 2150 4250
Wire Wire Line
	1700 3950 2250 3950
Wire Wire Line
	2250 4150 1700 4150
Wire Wire Line
	1700 4350 2250 4350
Wire Wire Line
	4550 3850 4400 3850
Connection ~ 2050 4450
Wire Wire Line
	2050 4450 2150 4450
Wire Wire Line
	4400 4050 4550 4050
Connection ~ 4550 4050
Wire Wire Line
	4550 4050 4550 3850
Wire Wire Line
	4400 4450 4550 4450
Connection ~ 4550 4450
Wire Wire Line
	4550 4050 4550 4450
Wire Wire Line
	4850 3750 4400 3750
Wire Wire Line
	4850 3950 4400 3950
Wire Wire Line
	4400 4350 4850 4350
Text Notes 2550 3250 0    50   ~ 0
SIGMA DELTA A/D CONVERTER INPUTS
Connection ~ 6350 2700
Wire Wire Line
	9000 2400 9000 3000
Wire Wire Line
	8750 1500 9550 1500
Wire Wire Line
	8750 1600 9550 1600
Wire Wire Line
	9550 1700 8750 1700
Wire Wire Line
	8750 1800 9550 1800
Wire Wire Line
	9550 1900 8750 1900
Wire Wire Line
	8750 2000 9550 2000
Wire Wire Line
	9550 2100 8750 2100
Text Notes 9200 1350 0    50   ~ 0
DELTA SIGMA A/D CONVERTER\nFEEDBACK VOLTAGE AND\nREFERENCE VOLTAGE DRIVE
Wire Wire Line
	7100 2600 6850 2600
Wire Wire Line
	6850 2600 6850 3000
Wire Wire Line
	6850 3000 6500 3000
Text GLabel 7000 4250 0    50   Output ~ 0
LCD_B_ENABLE
Wire Wire Line
	7200 4250 7000 4250
Wire Notes Line
	5250 3450 11000 3450
Wire Notes Line
	500  2750 5250 2750
Text GLabel 7000 2100 0    50   Input ~ 0
SPI1_SCLK
Text GLabel 7000 2200 0    50   Input ~ 0
SPI1_FPGA_CS
Text GLabel 7000 2000 0    50   Input ~ 0
SPI1_MOSI
Text GLabel 7000 1900 0    50   Output ~ 0
SPI1_MOSI
Wire Wire Line
	2050 4700 4550 4700
Wire Wire Line
	2050 4450 2050 4700
Wire Wire Line
	4550 4450 4550 4700
Text GLabel 7000 1600 0    50   Output ~ 0
SPI2_MOSI
Text GLabel 7000 1500 0    50   Input ~ 0
SPI2_MISO
Text GLabel 7000 1800 0    50   Output ~ 0
SPI2_PRESSURE_CS
Text GLabel 7000 1700 0    50   Output ~ 0
SPI_SCLK
Text Notes 6000 2000 0    50   ~ 0
SPI1 to\nMCU master
Text Notes 5650 1600 0    50   ~ 0
SPI2 from sensor slave
Wire Wire Line
	5750 2750 5750 2800
Connection ~ 5750 2800
Wire Wire Line
	5750 2800 5650 2800
Wire Wire Line
	7100 1500 7000 1500
Wire Wire Line
	7100 1600 7000 1600
Wire Wire Line
	7100 1800 7000 1800
Wire Wire Line
	7000 1700 7100 1700
Wire Wire Line
	6350 2700 7100 2700
Wire Wire Line
	5750 2800 7100 2800
Wire Wire Line
	7100 1900 7000 1900
Wire Wire Line
	7100 2000 7000 2000
Wire Wire Line
	7100 2100 7000 2100
Wire Wire Line
	7100 2200 7000 2200
$EndSCHEMATC
